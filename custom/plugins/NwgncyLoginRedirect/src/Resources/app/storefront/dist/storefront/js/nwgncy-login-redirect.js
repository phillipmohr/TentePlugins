"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["nwgncy-login-redirect"],{4346:(e,r,t)=>{var a=t(6285),n=t(5632),i=t(3206);class c extends a.Z{init(){window.redirectData&&(this.storage=n.Z,this._isLoginPage()||this._isAccountHomePage()?this._saveCurrentRoute():this._setRedirectDataToForm())}_saveCurrentRoute(){const e={currentUrl:window.redirectData.currentUrl,currentUrlParams:window.redirectData.currentUrlParams};this.storage.setItem(this._getStorageKey(),JSON.stringify(e))}_getUrlData(){return this.storage.getItem(this._getStorageKey())}_setRedirectDataToForm(){let e=this._getUrlData();if(!e)return;e=JSON.parse(e);const r=i.Z.querySelectorAll(document,'input[name="redirectParameters"]',!1),t=i.Z.querySelectorAll(document,'input[name="redirectTo"]',!1);if(r&&t&&e){let a;a=e.currentUrlParams&&""!==e.currentUrlParams?e.currentUrlParams:"[]",r.forEach((e=>{e.value=JSON.stringify(a)})),t.forEach((r=>{r.value=e.currentUrl}))}}_getStorageKey(){return"nwgncy-login-redirect-data"}_isLoginPage(){return"frontend.account.login.page"!==window.redirectData.currentUrl}_isAccountHomePage(){return"frontend.account.home.page"!==window.redirectData.currentUrl}}window.PluginManager.register("NwgncyLoginRedirectPlugin",c)}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return r=4346,e(e.s=r);var r}));e.O()}]);